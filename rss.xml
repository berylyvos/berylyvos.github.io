<?xml version="1.0" encoding="utf-8"?><rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Shingoå››å åŠ</title><link>https://berylyvos.icu/</link><description>This is Shigo Gnix's no interest blog.</description><generator>Hugo 0.104.3 https://gohugo.io/</generator><language>zh-CN</language><managingEditor>berylyvos@gmail.com (Shingo)</managingEditor><webMaster>berylyvos@gmail.com (Shingo)</webMaster><copyright>[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><lastBuildDate>Mon, 20 Mar 2023 15:24:32 +0000</lastBuildDate><atom:link rel="self" type="application/rss+xml" href="https://berylyvos.icu/rss.xml"/><item><title>CMU15-445(Fall 2022) ç¬”è®°ï¼šHash Tables</title><link>https://berylyvos.icu/posts/15-445-note-hashtables/</link><guid isPermaLink="true">https://berylyvos.icu/posts/15-445-note-hashtables/</guid><pubDate>Mon, 20 Mar 2023 23:07:58 +0800</pubDate><author>berylyvos@gmail.com (Shingo)</author><copyright>[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h1 id="hash-table">Hash Table&lt;/h1>
&lt;h1 id="hash-function">Hash Function&lt;/h1>
&lt;h1 id="static-hashing-schemes">Static Hashing Schemes&lt;/h1>
&lt;h2 id="linear-probe-hashing">Linear Probe Hashing&lt;/h2>
&lt;h2 id="robin-hood-hashing">Robin Hood Hashing&lt;/h2>
&lt;h2 id="cuckoo-hashing">Cuckoo Hashing&lt;/h2>
&lt;h1 id="dynamic-hashing-schemes">Dynamic Hashing Schemes&lt;/h1>
&lt;h2 id="chained-hashing">Chained Hashing&lt;/h2>
&lt;h2 id="extendible-hashing">Extendible Hashing&lt;/h2>
&lt;h2 id="linear-hashing">Linear Hashing&lt;/h2></description><category domain="https://berylyvos.icu/categories/cmu15-445/">CMU15-445</category><category domain="https://berylyvos.icu/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">æ•°æ®åº“</category><category domain="https://berylyvos.icu/tags/%E7%AC%94%E8%AE%B0/">ç¬”è®°</category><category domain="https://berylyvos.icu/tags/hashing-scheme/">Hashing Scheme</category></item><item><title>CMU15-445(Fall 2022) ç¬”è®°ï¼šPilot</title><link>https://berylyvos.icu/posts/15-445-note-1/</link><guid isPermaLink="true">https://berylyvos.icu/posts/15-445-note-1/</guid><pubDate>Sun, 05 Mar 2023 22:53:43 +0800</pubDate><author>berylyvos@gmail.com (Shingo)</author><copyright>[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h1 id="å…³ç³»æ¨¡å‹ä¸å…³ç³»ä»£æ•°">å…³ç³»æ¨¡å‹ä¸å…³ç³»ä»£æ•°&lt;/h1>
&lt;blockquote>
&lt;p>A database is an organized collection of inter-related data that models some aspect of the real-world.&lt;/p>
&lt;/blockquote>
&lt;p>ä¸è¦æ··æ·†â€œæ•°æ®åº“(database)â€å’Œâ€œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(database management system, DBMS)â€ã€‚&lt;/p>
&lt;blockquote>
&lt;p>A DBMS is a software that allows applications to store and analyze information in a database.&lt;/p>
&lt;/blockquote>
&lt;p>MySQL, Oracle, MongoDB, Snowflakeè¿™äº›éƒ½æ˜¯DBMSã€‚&lt;/p>
&lt;p>&lt;strong>å…³ç³»æ¨¡å‹&lt;/strong>åŸºäºå…³ç³»å®šä¹‰æ•°æ®åº“æŠ½è±¡ï¼Œè§£è€¦åˆé€»è¾‘å±‚ä¸ç‰©ç†å±‚ã€‚&lt;/p>
&lt;ul>
&lt;li>å°†æ•°æ®åº“å­˜å‚¨åœ¨ç®€å•çš„æ•°æ®ç»“æ„(å…³ç³»)ä¸­ã€‚&lt;/li>
&lt;li>é€šè¿‡é«˜çº§è¯­è¨€è®¿é—®æ•°æ®ï¼ŒDBMSæ‰¾å‡ºæœ€ä½³æ‰§è¡Œç­–ç•¥ã€‚&lt;/li>
&lt;li>ç‰©ç†å­˜å‚¨ç•™ç»™DBMSå®ç°ã€‚&lt;/li>
&lt;/ul>
&lt;p>ä»æ•°æ®åº“ä¸­å­˜å‚¨å’Œæ£€ç´¢ä¿¡æ¯é€šå¸¸æœ‰ä¸¤ç§è¯­è¨€ï¼š&lt;/p>
&lt;ul>
&lt;li>Proceduralï¼šæŸ¥è¯¢å‘½ä»¤éœ€è¦æŒ‡å®š DBMS æ‰§è¡Œæ—¶çš„å…·ä½“æŸ¥è¯¢ç­–ç•¥ï¼ˆå…³ç³»ä»£æ•°ï¼‰&lt;/li>
&lt;li>Non-Proceduralï¼ˆDeclarativeï¼‰ï¼šåªéœ€è¦æŒ‡å®šæƒ³è¦æŸ¥è¯¢å“ªäº›æ•°æ®ï¼Œæ— éœ€å…³å¿ƒå…·ä½“æŸ¥è¯¢å®ç°ï¼ˆå…³ç³»æ¼”ç®—ï¼‰&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å…³ç³»ä»£æ•°&lt;/strong>æ˜¯ä¸€ç§Proceduralè¯­è¨€ï¼Œå› ä¸ºå®ƒå®šä¹‰äº†å¦‚ä½•è®¡ç®—æŸ¥è¯¢çš„high-levelæ­¥éª¤ï¼ˆæ¯”å¦‚å…ˆåšjoinè¿˜æ˜¯projectionï¼Œè¿™å¯¹äºæŸ¥è¯¢ä¼˜åŒ–å¾ˆé‡è¦ï¼‰&lt;/p>
&lt;h1 id="ç°ä»£sql">ç°ä»£SQL&lt;/h1>
&lt;p>SQLæ˜¯å…³ç³»æ•°æ®åº“çš„Declarativeçš„æŸ¥è¯¢è¯­è¨€ã€‚å½“å‰SQLçš„æ ‡å‡†æ˜¯SQL-2016ï¼Œç›®å‰å¤§éƒ¨åˆ†DBMSè‡³å°‘æ”¯æŒSQL-92æ ‡å‡†ã€‚&lt;/p>
&lt;h2 id="count-count1-countcolumn">count(*), count(1), count(column)&lt;/h2>
&lt;p>&lt;code>count(*)&lt;/code>å’Œ&lt;code>count(1)&lt;/code>ä»ç»“æœä¸Šçœ‹æ˜¯ä¸€è‡´çš„ã€‚è¿™é‡Œçš„&lt;code>*&lt;/code>å’Œ&lt;code>1&lt;/code>å¹¶ä¸æ˜¯æŒ‡æŸ¥è¯¢çš„åˆ—çš„æ•°é‡ï¼Œå³ä¾¿æ˜¯&lt;code>count('whatever the parameter is')&lt;/code>ä¹Ÿæ˜¯ä¸€æ ·çš„ç»“æœã€‚ä¼ å…¥ç»™&lt;code>count()&lt;/code>çš„å‚æ•°ä¼šèµ‹å€¼ç»™è¡¨çš„æ¯ä¸€è¡Œï¼Œ&lt;code>count()&lt;/code>å‡½æ•°ä¼šè®¡ç®—è¯¥å‚æ•°ä¸€å…±è¢«èµ‹å€¼äº†å‡ æ¬¡ï¼Œå³è¡¨çš„è¡Œæ•°ã€‚
&lt;code>count(column)&lt;/code>åªç»Ÿè®¡&lt;code>column != NULL&lt;/code>çš„è¡Œã€‚&lt;/p>
&lt;h2 id="çª—å£å‡½æ•°">çª—å£å‡½æ•°&lt;/h2>
&lt;p>çª—å£å‡½æ•°åœ¨ä¸€ç»„ç›¸å…³çš„å…ƒç»„ä¹‹é—´æ‰§è¡Œâ€œæ»‘åŠ¨â€è®¡ç®—ã€‚ç±»ä¼¼äºèšåˆï¼Œä½†å…ƒç»„ä¸æ˜¯åˆ†ç»„åˆå¹¶åˆ°å•ä¸ªè¾“å‡ºå…ƒç»„ï¼Œè€Œæ˜¯æ¯ä¸ªå…ƒç»„æ–°å¢äº†ä¸€åˆ—çª—å£å‡½æ•°çš„è®¡ç®—ç»“æœã€‚
é™¤äº†æ™®é€šèšåˆå‡½æ•°å¤–ï¼Œè¿˜æœ‰äº›ç‰¹æ®Šçš„çª—å£å‡½æ•°ï¼Œå¦‚&lt;code>ROW_NUMBER()&lt;/code>å’Œ&lt;code>RANK()&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-mysql" data-lang="mysql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- Find the student with the second highest grade for each course.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">RANK&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">OVER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">PARTITION&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cid&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">ORDER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">grade&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ASC&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">AS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rank_&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">enrolled&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">AS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ranking&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ranking&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">rank_&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="cte">CTE&lt;/h2>
&lt;p>CTEå¯ç”¨ä½œå¤æ‚æŸ¥è¯¢æ—¶çš„ä¸´æ—¶ä¸­é—´è¡¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">WITH&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cteName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">col1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">AS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">col2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cteName&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Recursive CTEå¯ä»¥åœ¨SQLæŸ¥è¯¢ä¸­å®ç°é€’å½’ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- Print the sequence of numbers from 1 to 10.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">WITH&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">RECURSIVE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cteSource&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">counter&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">AS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">UNION&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ALL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">counter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cteSource&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">counter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cteSource&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="å­˜å‚¨">å­˜å‚¨&lt;/h1>
&lt;p>ä¸»è¦è®¨è®ºâ€œé¢å‘ç£ç›˜â€çš„DBMSä½“ç³»ç»“æ„ï¼Œè¯¥ä½“ç³»ç»“æ„å‡è®¾æ•°æ®åº“çš„ä¸»è¦å­˜å‚¨ä½ç½®åœ¨non-volatileç£ç›˜(SSD, HDD)ä¸Šã€‚&lt;/p>
&lt;h2 id="é¢å‘ç£ç›˜çš„dbms">é¢å‘ç£ç›˜çš„DBMS&lt;/h2>
&lt;p>&lt;img src="https://s2.loli.net/2023/03/17/7DgvBXJ4C5T1QsV.png" alt="disk-oriented-dbms">&lt;/p>
&lt;p>æ•°æ®åº“å…¨éƒ¨åœ¨ç£ç›˜ä¸Šï¼Œæ•°æ®åº“æ–‡ä»¶ä¸­çš„æ•°æ®è¢«ç»„ç»‡æˆé¡µï¼Œç¬¬ä¸€é¡µæ˜¯ç›®å½•é¡µã€‚
ä¸ºäº†å¯¹æ•°æ®è¿›è¡Œæ“ä½œï¼ŒDBMSéœ€è¦å°†æ•°æ®æ”¾å…¥å†…å­˜ä¸­ã€‚å®ƒé€šè¿‡ç¼“å†²æ± ï¼ˆBuffer Poolï¼‰æ¥ç®¡ç†æ•°æ®åœ¨ç£ç›˜å’Œå†…å­˜ä¹‹é—´çš„æ¥å›ç§»åŠ¨ã€‚
æ‰§è¡Œå¼•æ“å°†å‘ç¼“å†²æ± è¯·æ±‚ç‰¹å®šçš„é¡µé¢ï¼Œç¼“å†²æ± å°†è´Ÿè´£å°†è¯¥é¡µæ”¾å…¥å†…å­˜ï¼Œå¹¶å‘æ‰§è¡Œå¼•æ“æä¾›å†…å­˜ä¸­è¯¥é¡µçš„æŒ‡é’ˆã€‚&lt;/p>
&lt;h3 id="ä¸ºä»€ä¹ˆä¸ç”¨mmap">ä¸ºä»€ä¹ˆä¸ç”¨mmap&lt;/h3>
&lt;p>ç®€å•æ¥è¯´ï¼Œä¸ç”¨ mmap æ˜¯ä¸ºäº†&lt;strong>æ›´å¥½çš„æ§åˆ¶å’Œæ€§èƒ½&lt;/strong>ã€‚
å¦‚æœ mmap é‡åˆ° page faultï¼Œè¿›ç¨‹å°†ä¼šè¢«é˜»å¡ã€‚mmap ä¸å¥½åšå¼‚å¸¸å¤„ç†ï¼Œä¹Ÿå­˜åœ¨äº‹åŠ¡å®‰å…¨é—®é¢˜ã€‚
DBMS æ¯” OS æ‹¥æœ‰æ›´å¤šã€æ›´å……åˆ†çš„çŸ¥è¯†æ¥å†³å®šæ•°æ®ç§»åŠ¨çš„æ—¶æœºå’Œæ•°é‡ï¼Œå…·ä½“åŒ…æ‹¬ï¼š&lt;/p>
&lt;ul>
&lt;li>å°† dirty pages æŒ‰æ­£ç¡®åœ°é¡ºåºå†™åˆ°ç£ç›˜&lt;/li>
&lt;li>æ ¹æ®å…·ä½“æƒ…å†µé¢„è·å–æ•°æ®&lt;/li>
&lt;li>å®šåˆ¶åŒ–ç¼“å­˜ç½®æ¢ç­–ç•¥&lt;/li>
&lt;li>çº¿ç¨‹/è¿›ç¨‹è°ƒåº¦&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>æ›´è¯¦ç»†çš„è®¨è®ºå¯ä»¥çœ‹è¿™ç¯‡è®ºæ–‡ &lt;a href="https://db.cs.cmu.edu/papers/2022/cidr2022-p13-crotty.pdf">Are You Sure You Want to Use MMAP in Your Database Management System?&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="æ–‡ä»¶å­˜å‚¨">æ–‡ä»¶å­˜å‚¨&lt;/h2>
&lt;p>DBMSçš„å­˜å‚¨ç®¡ç†å™¨è´Ÿè´£ç®¡ç†æ•°æ®åº“çš„æ–‡ä»¶ã€‚å®ƒå°†æ–‡ä»¶è¡¨ç¤ºä¸ºpageçš„é›†åˆã€‚å®ƒè¿˜è·Ÿè¸ªå“ªäº›æ•°æ®è¢«è¯»å’Œå†™åˆ°äº†pageä¸Šï¼Œä»¥åŠè¿™äº›pageæœ‰å¤šå°‘å¯ç”¨ç©ºé—´ã€‚&lt;/p>
&lt;h3 id="database-pages">Database Pages&lt;/h3>
&lt;p>OS çš„æ–‡ä»¶ç³»ç»Ÿé€šå¸¸å°†æ–‡ä»¶åˆ‡åˆ†æˆ pages è¿›è¡Œç®¡ç†ï¼ŒDBMS ä¹Ÿä¸ä¾‹å¤–ã€‚é€šå¸¸ page æ˜¯å›ºå®šå¤§å°çš„ä¸€å—æ•°æ®ï¼Œæ¯ä¸ª page å†…éƒ¨å¯èƒ½å­˜å‚¨ç€ &lt;strong>tuplesã€meta-dataã€indexes&lt;/strong> ä»¥åŠ &lt;strong>logs&lt;/strong> ç­‰ã€‚
å¤§å¤šæ•°DBMSä½¿ç”¨å›ºå®šå¤§å°çš„page(1-16KB)ï¼Œä»¥é¿å…æ”¯æŒå¯å˜å¤§å°pageæ‰€éœ€çš„å·¥ç¨‹å¼€é”€ã€‚&lt;/p>
&lt;p>ä¸åŒ DBMS ç®¡ç† pages çš„æ–¹å¼ä¸åŒï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š&lt;/p>
&lt;ul>
&lt;li>Heap File Organization&lt;/li>
&lt;li>Tree File Organization&lt;/li>
&lt;li>Sequential/Sorted File Organization (ISAM)&lt;/li>
&lt;li>Hashing File Organization&lt;/li>
&lt;/ul>
&lt;h3 id="heap-file-organization">Heap File Organization&lt;/h3>
&lt;p>Heap file æ˜¯ä¸€ä¸ªæ— åºçš„ pages é›†åˆï¼Œpages ç®¡ç†æ¨¡å—éœ€è¦è®°å½•å“ªäº› pages å·²ç»è¢«ä½¿ç”¨ï¼Œå“ªäº›å°šæœªè¢«ä½¿ç”¨ã€‚ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼š&lt;/p>
&lt;ul>
&lt;li>Linked List: Header page æŒæœ‰æŒ‡å‘&lt;code>free pages list&lt;/code>å’Œ&lt;code>data pages list&lt;/code>çš„æŒ‡é’ˆã€‚å®ƒå¿…é¡»åœ¨æ•°æ®é¡µåˆ—è¡¨ä¸Šè¿›è¡Œé¡ºåºæ‰«æã€‚&lt;/li>
&lt;li>Page Directory: pages ç®¡ç†æ¨¡å—ç»´æŠ¤ç€ä¸€äº›ç‰¹æ®Šçš„ pagesï¼ˆdirectory pagesï¼‰ï¼Œå®ƒä»¬è´Ÿè´£è®°å½• data pages çš„ä½ç½®å’Œç©ºé—²ç©ºé—´å¤§å°ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="page-layout">Page Layout&lt;/h3>
&lt;p>æ¯ä¸ª page è¢«åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šheader å’Œ dataï¼Œheaderé€šå¸¸åŒ…å«ï¼špageå¤§å°, checksum, DBMSç‰ˆæœ¬, äº‹åŠ¡å¯è§æ€§, å‹ç¼©ä¿¡æ¯ã€‚
data ä¸­è®°å½•ç€çœŸæ­£å­˜å‚¨çš„æ•°æ®ï¼Œæ•°æ®è®°å½•çš„å½¢å¼ä¸»è¦æœ‰:&lt;/p>
&lt;ul>
&lt;li>Tuple-orientedï¼ˆslotted-pagesï¼‰ï¼šè®°å½•æ•°æ®æœ¬èº«&lt;/li>
&lt;li>Log-structuredï¼šè®°å½•æ•°æ®çš„æ“ä½œæ—¥å¿—&lt;/li>
&lt;/ul>
&lt;h4 id="slotted-pages">Slotted Pages&lt;/h4>
&lt;p>Tuple-orientedä¸­ï¼Œæœ€å¸¸ç”¨çš„Layoutæ–¹æ¡ˆæ˜¯ &lt;strong>slotted pages&lt;/strong>ã€‚header ä¸­çš„ slot array è®°å½•æ¯ä¸ª slot çš„ä¿¡æ¯ï¼Œå¦‚å¤§å°ã€ä½ç§»ç­‰
ã€‚
&lt;img src="https://s2.loli.net/2023/03/17/8OELXjg5KDbVShA.png" alt="slotted_page">&lt;/p>
&lt;ul>
&lt;li>æ–°å¢è®°å½•æ—¶ï¼šåœ¨ slot array ä¸­æ–°å¢ä¸€æ¡è®°å½•ï¼Œå­˜æ”¾è¯¥è®°å½•çš„å…¥å£åœ°å€ã€‚slot array ä¸ data ä» page çš„ä¸¤ç«¯å‘ä¸­é—´ç”Ÿé•¿ï¼ŒäºŒè€…ç›¸é‡æ—¶ï¼Œå°±è®¤ä¸ºè¿™ä¸ª page å·²ç»æ»¡äº†ã€‚&lt;/li>
&lt;li>åˆ é™¤è®°å½•æ—¶ï¼šå‡è®¾åˆ é™¤ tuple #3ï¼Œå¯ä»¥å°† slot array ä¸­çš„ç¬¬ä¸‰æ¡è®°å½•åˆ é™¤ï¼Œå¹¶å°† tuple #4 åŠå…¶ä»¥åçš„æ•°æ®éƒ½éƒ½å‘åç§»åŠ¨ï¼Œå¡«è¡¥ tuple #3 çš„ç©ºä½ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="log-structured">Log-Structured&lt;/h4>
&lt;p>Slotted-Page Design å¸¦æ¥çš„é—®é¢˜ï¼š&lt;/p>
&lt;ul>
&lt;li>Fragmentationï¼šåˆ é™¤tupleä¼šåœ¨pageä¸­ç•™ä¸‹ç¢ç‰‡ã€‚&lt;/li>
&lt;li>Useless Disk I/Oï¼šç”±äºéæ˜“å¤±æ€§å­˜å‚¨çš„block-orientedçš„æ€§è´¨ï¼Œéœ€è¦è¯»å–æ•´ä¸ªå—æ¥è·å–tupleã€‚&lt;/li>
&lt;li>Random Disk I/Oï¼šç£ç›˜é˜…è¯»å™¨å¯èƒ½ä¸å¾—ä¸è·³åˆ°20ä¸ªä¸åŒçš„åœ°æ–¹æ¥æ›´æ–°20ä¸ªtuplesï¼Œè¿™å¯èƒ½ä¼šéå¸¸æ…¢ã€‚&lt;/li>
&lt;/ul>
&lt;p>log-structured page åªå­˜å‚¨æ›´æ”¹ï¼ˆPUT, DELETEï¼‰çš„æ—¥å¿—è®°å½•ã€‚å› æ­¤ï¼Œå¢åˆ æ”¹çš„æ•ˆç‡å¾ˆé«˜ã€‚
ä¸ºäº†è¯»å–ä¸€æ¡è®°å½•ï¼ŒDBMSä»æœ€æ–°åˆ°æœ€æ—§æ‰«æpageå¹¶é‡æ–°åˆ›å»ºtupleã€‚ä¸ºäº†åŠ å¿«æŸ¥è¯¢æ•ˆç‡ï¼Œé€šå¸¸ä¼šå¯¹æ“ä½œæ—¥å¿—åœ¨è®°å½• id ä¸Šå»ºç«‹ç´¢å¼•ã€‚
è¿˜éœ€è¦å®šæœŸåšæ—¥å¿—å‹ç¼©ã€‚&lt;/p>
&lt;h3 id="tuple-layout">Tuple Layout&lt;/h3>
&lt;p>æ¯ä¸ª tuple è¢«åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„è®°å½•æ ‡è¯†ç¬¦ã€‚æœ€å¸¸ç”¨çš„æ–¹å¼ï¼š&lt;code>page_id + offset/slot&lt;/code>ã€‚ä¾‹å¦‚ï¼ŒPostgreSQLä½¿ç”¨ CTID (6-bytes)ï¼ŒSQLiteä½¿ç”¨ ROWID (8-bytes)ã€‚
tuple çš„å…ƒæ•°æ®åŒ…å«ï¼š&lt;/p>
&lt;ul>
&lt;li>Visibility Info (concurrency control)&lt;/li>
&lt;li>Bit Map for NULL values&lt;/li>
&lt;/ul>
&lt;h2 id="oltp--olap">OLTP &amp;amp; OLAP&lt;/h2>
&lt;ul>
&lt;li>OLTP(Online Transaction Processing): ä¸»è¦å¤„ç†ç®€å•çš„è¯»å†™è¯­å¥ï¼Œä¸”æ¯ä¸ªè¯­å¥éƒ½åªæ“ä½œæ•°æ®åº“ä¸­çš„ä¸€å°éƒ¨åˆ†æ•°æ®&lt;/li>
&lt;li>OLAP(Online Analytical Processing): ä¸»è¦å¤„ç†å¤æ‚çš„ï¼Œéœ€è¦æ£€ç´¢å¤§é‡æ•°æ®å¹¶èšåˆçš„æ“ä½œ&lt;/li>
&lt;li>HTAP(Hybrid Transaction + Analytical Processing)&lt;/li>
&lt;/ul>
&lt;h2 id="storage-models">Storage Models&lt;/h2>
&lt;ul>
&lt;li>è¡Œå­˜å‚¨ï¼šNSM (N-ary Storage Model)ï¼šå°†ä¸€ä¸ª tuple çš„æ‰€æœ‰ attributes åœ¨ page ä¸­è¿ç»­åœ°å­˜å‚¨ï¼Œé€‚åˆ OLTP åœºæ™¯ã€‚&lt;/li>
&lt;li>åˆ—å­˜å‚¨ï¼šDSM (Decomposition Storage Model)ï¼šå°†æ‰€æœ‰ tuples çš„å•ä¸ª attribute è¿ç»­åœ°å­˜å‚¨åœ¨ä¸€ä¸ª page ä¸­ï¼Œé€‚ç”¨äº OLAP åœºæ™¯ã€‚&lt;/li>
&lt;/ul></description><category domain="https://berylyvos.icu/categories/cmu15-445/">CMU15-445</category><category domain="https://berylyvos.icu/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">æ•°æ®åº“</category><category domain="https://berylyvos.icu/tags/%E7%AC%94%E8%AE%B0/">ç¬”è®°</category></item><item><title>ç®€å•åšä¸ªBitTorrentå®¢æˆ·ç«¯</title><link>https://berylyvos.icu/posts/gorrent/</link><guid isPermaLink="true">https://berylyvos.icu/posts/gorrent/</guid><pubDate>Thu, 17 Nov 2022 11:15:54 +0800</pubDate><author>berylyvos@gmail.com (Shingo)</author><copyright>[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h1 id="åŠŸèƒ½">åŠŸèƒ½&lt;/h1>
&lt;ul>
&lt;li>å¤šæ–‡ä»¶torrentä¸‹è½½&lt;/li>
&lt;li>æ”¯æŒUDP/HTTP Tracker&lt;/li>
&lt;li>&lt;del>æ”¯æŒDHTï¼ŒPeXï¼Œç£åŠ›é“¾æ¥&lt;/del>&lt;/li>
&lt;/ul>
&lt;h1 id="golangå®ç°">Golangå®ç°&lt;/h1>
&lt;h2 id="æ‰¾peers">æ‰¾peers&lt;/h2>
&lt;h3 id="torrentæ–‡ä»¶ç»“æ„ä¸bencodeç¼–ç ">Torrentæ–‡ä»¶ç»“æ„ä¸Bencodeç¼–ç &lt;/h3>
&lt;p>ä¸€ä¸ªtorrentæ–‡ä»¶åŒ…å«ä¸€ä¸ª&lt;strong>æ–‡ä»¶åˆ—è¡¨&lt;/strong>å’Œå…³äºæ‰€æœ‰ç‰‡æ®µçš„&lt;strong>å®Œæ•´æ€§å…ƒæ•°æ®&lt;/strong>(integrity metadata)ï¼Œå¹¶å¯é€‰åœ°åŒ…å«ä¸€ä¸ªå¾ˆé•¿çš„&lt;strong>tracker&lt;/strong>åˆ—è¡¨ï¼Œå¹¶ç”±&lt;strong>Bencode&lt;/strong>ç¼–ç ã€‚&lt;/p>
&lt;p>Bencodeç¼–ç æ”¯æŒ4ç§æ•°æ®ç±»å‹ï¼šbyte stringï¼Œintegerï¼Œlistå’Œdictionaryã€‚&lt;/p>
&lt;p>ä»¥ç”µå½±&lt;a href="https://www.imdb.com/title/tt0088847/">ã€Šæ—©é¤ä¿±ä¹éƒ¨ã€‹&lt;/a>ä¸ºä¾‹ï¼Œå…¶torrentæ–‡ä»¶ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">d&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">8&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">announce&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">43&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">udp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="c1">//tracker.coppersurfer.tk:6969/announce
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">announce&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">list&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">l&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">l43&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">udp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="c1">//tracker.coppersurfer.tk:6969/announcee
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">l49&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">udp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="c1">//tracker.leechers-paradise.org:6969/announcee
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">l38&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">udp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="c1">//tracker.cyberia.is:6969/announcee
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">7&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">comment&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">80&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">The&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Breakfast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Club&lt;/span>&lt;span class="mf">.1985&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">REMASTERED&lt;/span>&lt;span class="mf">.720&lt;/span>&lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">BluRay&lt;/span>&lt;span class="mf">.999&lt;/span>&lt;span class="nx">MB&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">HQ&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x265&lt;/span>&lt;span class="mf">.10&lt;/span>&lt;span class="nx">bit&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">GalaxyRG&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">TGx&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">creation&lt;/span> &lt;span class="nx">date&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">i1600189812e&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">info&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">d&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">5&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">files&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">l&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">d&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">6&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">length&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">i1035352868e&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">path&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">l79&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">The&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Breakfast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Club&lt;/span>&lt;span class="mf">.1985&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">REMASTERED&lt;/span>&lt;span class="mf">.720&lt;/span>&lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">BluRay&lt;/span>&lt;span class="mf">.999&lt;/span>&lt;span class="nx">MB&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">HQ&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x265&lt;/span>&lt;span class="mf">.10&lt;/span>&lt;span class="nx">bit&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">GalaxyRG&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mkve&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">d&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">6&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">length&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">i678e&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">path&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">l42&lt;/span>&lt;span class="p">:[&lt;/span>&lt;span class="nx">TGx&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="nx">Downloaded&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="nx">torrentgalaxy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">to&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">txte&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">80&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">The&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Breakfast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Club&lt;/span>&lt;span class="mf">.1985&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">REMASTERED&lt;/span>&lt;span class="mf">.720&lt;/span>&lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">BluRay&lt;/span>&lt;span class="mf">.999&lt;/span>&lt;span class="nx">MB&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">HQ&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x265&lt;/span>&lt;span class="mf">.10&lt;/span>&lt;span class="nx">bit&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">GalaxyRG&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">TGx&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">12&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">piece&lt;/span> &lt;span class="nx">length&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">i524288e&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">6&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">pieces&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">39500&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="err">ï¿½ï¿½ï¿½&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="nx">Ä£&lt;/span>&lt;span class="err">ï¿½&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="err">ï¿½&lt;/span>&lt;span class="nx">É†p&lt;/span>&lt;span class="err">ï¿½&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="err">ï¿½ï¿½&lt;/span>&lt;span class="nx">HH&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="err">ï¿½`&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="err">ï¿½ï¿½ï¿½&lt;/span> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">e&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨è¿™ä¸ªå­—å…¸ä¸­ï¼Œæ‰€æœ‰é”®å’Œå­—ç¬¦ä¸²ç±»å‹å€¼çš„ç»“æ„éƒ½æ˜¯&lt;code>length:xxx&lt;/code>ï¼Œæ•´å‹è¡¨ç¤ºä¸º&lt;code>ixxxe&lt;/code>ï¼Œåˆ—è¡¨ä¸º&lt;code>l[]...[]e&lt;/code>ï¼Œå­—å…¸ä¸º&lt;code>d(key:[])...(key:[])e&lt;/code>ï¼Œå…¶ä¸­ï¼Œ&lt;code>[]&lt;/code>å¯ä»¥ä¸ºå››ç§ç±»å‹çš„ä»»æ„ä¸€ç§ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>announce&lt;/code>ï¼štrackerçš„URL&lt;/li>
&lt;li>&lt;code>announce-list&lt;/code>ï¼štrackerçš„URLåˆ—è¡¨ï¼ˆå¯é€‰ï¼‰&lt;/li>
&lt;li>&lt;code>info&lt;/code>ï¼šåŒ…å«æ–‡ä»¶å…±äº«ä¿¡æ¯çš„å­—å…¸
&lt;ul>
&lt;li>&lt;code>files&lt;/code>ï¼šæ–‡ä»¶å­—å…¸åˆ—è¡¨ï¼ˆä»…å½“å…±äº«å¤šä¸ªæ–‡ä»¶æ—¶ï¼‰
&lt;ul>
&lt;li>&lt;code>length&lt;/code>ï¼šæ–‡ä»¶çš„å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½&lt;/li>
&lt;li>&lt;code>path&lt;/code>ï¼šä¸å­ç›®å½•åç§°å¯¹åº”çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå…¶ä¸­æœ€åä¸€ä¸ªæ˜¯å®é™…çš„æ–‡ä»¶å&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>name&lt;/code>ï¼šå»ºè®®è¦ä¿å­˜çš„æ–‡ä»¶åï¼ˆå•æ–‡ä»¶ï¼‰/ å»ºè®®çš„ç›®å½•åç§°ï¼ˆå¤šæ–‡ä»¶ï¼‰&lt;/li>
&lt;li>&lt;code>piece length&lt;/code>ï¼šæ–‡ä»¶ç‰‡çš„å¤§å°ï¼Œé€šå¸¸ä¸º256 KB&lt;/li>
&lt;li>&lt;code>pieces&lt;/code>ï¼šæ¯ä¸ªæ–‡ä»¶ç‰‡çš„äºŒè¿›åˆ¶ç¼–ç çš„SHA-1å“ˆå¸Œåˆ—è¡¨ï¼ˆå¦‚æœæœ‰å¤šæ–‡ä»¶ï¼Œåˆ™æŒ‰æ–‡ä»¶å­—å…¸ä¸­çš„é¡ºåºæ‹¼æ¥åœ¨ä¸€èµ·ï¼‰&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ä¸€ä¸ªtorrentæ–‡ä»¶æ˜¯ç”±&lt;strong>infohash&lt;/strong>å”¯ä¸€æ ‡è¯†çš„ï¼Œå…¶å€¼ä¸ºæ•´ä¸ª&lt;code>info&lt;/code>çš„SHA-1å“ˆå¸Œã€‚&lt;/p>
&lt;h3 id="è§£ætorrentæ–‡ä»¶">è§£ætorrentæ–‡ä»¶&lt;/h3>
&lt;p>è§£æbencodeç¼–ç çš„torrentæ–‡ä»¶ï¼Œæœ¬è´¨æ˜¯é€’å½’ä¸‹é™ã€‚å½“ç„¶ï¼ŒMarshal/Unmarshalçš„è¿‡ç¨‹éœ€è¦å€ŸåŠ©goçš„åå°„ã€‚æœ€ç»ˆè§£æå¾—åˆ°ä¸€ä¸ªæ‰å¹³åŒ–çš„ç»“æ„ä½“&lt;code>TorrentFile&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">TorrentFile&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Announce&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">AnnounceList&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">InfoSHA&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">ShaLen&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">byte&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FileList&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">File&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FileName&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FileLen&lt;/span> &lt;span class="kt">int&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">PieceLen&lt;/span> &lt;span class="kt">int&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">PieceSHA&lt;/span> &lt;span class="p">[][&lt;/span>&lt;span class="nx">ShaLen&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">byte&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">HasMulti&lt;/span> &lt;span class="kt">bool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä»trackerè·å–peersä¿¡æ¯">ä»trackerè·å–peersä¿¡æ¯&lt;/h3>
&lt;p>æ ¹æ®&lt;code>Announce&lt;/code>ä¸­URLçš„åè®®ç±»å‹ï¼Œå¯å°†trackeråˆ†ä¸ºUDP/HTTP trackerã€‚&lt;/p>
&lt;h4 id="http">HTTP&lt;/h4>
&lt;p>æƒ³è¦å¾—åˆ°peersä¿¡æ¯ï¼Œéœ€è¦ç»™trackerå‘é€ä¸€ä¸ªGETè¯·æ±‚ã€‚å‚æ•°åˆ—è¡¨å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>info_hash&lt;/code>ï¼štorrentæ–‡ä»¶ä¸­&lt;code>info&lt;/code>å­—å…¸ï¼ˆbencodeç¼–ç ï¼‰çš„SHA-1å“ˆå¸Œ&lt;/li>
&lt;li>&lt;code>peer_id&lt;/code>ï¼šå®¢æˆ·ç«¯éšæœºç”Ÿæˆçš„20å­—èŠ‚é•¿åº¦å­—ç¬¦ä¸²&lt;/li>
&lt;li>&lt;code>port&lt;/code>ï¼šå®¢æˆ·ç«¯ç›‘å¬çš„ç«¯å£&lt;/li>
&lt;li>&lt;code>uploaded&lt;/code>ï¼šå½“å‰å·²ä¸Šä¼ é‡&lt;/li>
&lt;li>&lt;code>downloaded&lt;/code>ï¼šå½“å‰å·²ä¸‹è½½é‡&lt;/li>
&lt;li>&lt;code>left&lt;/code>ï¼šå½“å‰å‰©ä½™ä¸‹è½½é‡&lt;/li>
&lt;/ul>
&lt;p>trackeræ”¶åˆ°è¯·æ±‚åè¿”å›ä¸€ä¸ªbencodeç¼–ç çš„å­—å…¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">d&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">8&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">interval&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">i900e&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">5&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">peers&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">252&lt;/span>&lt;span class="p">:([&lt;/span>&lt;span class="nx">ip&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">e&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­ï¼Œ&lt;code>interval&lt;/code>è¡¨ç¤ºè¯·æ±‚trackerçš„æ—¶é—´é—´éš”ï¼Œ&lt;code>peers&lt;/code>åŒ…å«äº†peerçš„IPåœ°å€å’Œç«¯å£ä¿¡æ¯ï¼ˆå¤§ç«¯è¡¨ç¤ºï¼‰ï¼Œå…¶å€¼ä¸ºæ¯6å­—èŠ‚ä¸€ç»„çš„äºŒè¿›åˆ¶æ•°æ®ã€‚åŒæ ·ï¼Œéœ€è¦è§£æå¾—åˆ°peerä¿¡æ¯åˆ‡ç‰‡ã€‚&lt;/p>
&lt;h4 id="udp">UDP&lt;/h4>
&lt;p>ä¸ºäº†å‡å°‘HTTPè¯·æ±‚ç»™trackeræœåŠ¡å™¨å¸¦æ¥çš„å¼€é”€ã€æå‡æ€§èƒ½ï¼Œtrackerä¹Ÿæ”¯æŒUDPã€‚&lt;/p>
&lt;p>ä¸HTTPçš„ä¸€æ¬¡è¯·æ±‚å“åº”ä¸åŒï¼Œç”±äºUDPä¸å¯é ï¼Œå®¢æˆ·ç«¯è‡³å°‘éœ€è¦å‘é€ä¸¤ä¸ªUDPæ•°æ®åŒ…ã€‚ä¸ºäº†ä¿è¯å®‰å…¨æ€§ï¼Œtrackeråœ¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ç¬¬ä¸€ä¸ªåŒ…æ—¶è¿”å›ä¸€ä¸ª&lt;code>connection_id&lt;/code>ï¼Œè®©å®¢æˆ·ç«¯åœ¨ä¸‹ä¸€ä¸ªåŒ…å¸¦ä¸Šè¯¥å‚æ•°ï¼Œæ”¶åˆ°åæ ¡éªŒã€‚åŒæ—¶ï¼Œ&lt;code>connection_id&lt;/code>ä¸€æ®µæ—¶é—´åä¼šå¤±æ•ˆã€‚&lt;/p>
&lt;h5 id="connect">Connect&lt;/h5>
&lt;p>é¦–å…ˆï¼Œå®¢æˆ·ç«¯å‘é€connectåŒ…ï¼Œå‚æ•°å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>protocol_id&lt;/code>ï¼š0x41727101980ï¼Œç”¨äºæ ‡è¯†åè®®&lt;/li>
&lt;li>&lt;code>action&lt;/code>ï¼š0 è¡¨ç¤ºconnectè¯·æ±‚&lt;/li>
&lt;li>&lt;code>transaction_id&lt;/code>ï¼šéšæœºå€¼ï¼Œ4Bytes&lt;/li>
&lt;/ul>
&lt;p>trackeræœåŠ¡å™¨è¿”å›çš„åŒ…ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>action&lt;/code>ï¼š0 è¡¨ç¤ºconnectè¯·æ±‚ï¼ˆå¦‚æœå‡ºé”™åˆ™ä¸º3ï¼‰&lt;/li>
&lt;li>&lt;code>transaction_id&lt;/code>ï¼šä¸å®¢æˆ·ç«¯è¯·æ±‚å€¼ä¸€è‡´&lt;/li>
&lt;li>&lt;code>connection_id&lt;/code>ï¼šç”±trackerç”Ÿæˆï¼Œç”¨äºæ ‡è¯†å®¢æˆ·ç«¯&lt;/li>
&lt;/ul>
&lt;h5 id="announce">Announce&lt;/h5>
&lt;p>éšåï¼Œå®¢æˆ·ç«¯å‘é€announceåŒ…ï¼Œå‚æ•°å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>connection_id&lt;/code>ï¼štrackerè¿”å›çš„connection_id&lt;/li>
&lt;li>&lt;code>action&lt;/code>ï¼š1 è¡¨ç¤ºannounceè¯·æ±‚&lt;/li>
&lt;li>&lt;code>transaction_id&lt;/code>ï¼šéšæœºå€¼ï¼Œ4Bytes&lt;/li>
&lt;li>&lt;code>event&lt;/code>ï¼šnone = 0, completed = 1, started = 2, stopped = 3&lt;/li>
&lt;li>&lt;code>key&lt;/code>ï¼šéšæœºå€¼ï¼Œ4Bytes&lt;/li>
&lt;li>&lt;code>num_want&lt;/code>ï¼šæƒ³è¦trackerè¿”å›çš„æœ€å¤§peersæ•°é‡ï¼Œ-1ä¸ºé»˜è®¤å€¼&lt;/li>
&lt;/ul>
&lt;p>å‰©ä½™çš„&lt;code>info_hash&lt;/code>ï¼Œ&lt;code>peer_id&lt;/code>è¿™äº›å‚æ•°ä¸HTTPè¯·æ±‚trackeræ—¶ç›¸åŒã€‚
æœ€åï¼ŒtrackeræœåŠ¡å™¨è¿”å›åŒ…å«peersä¿¡æ¯çš„åŒ…ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>action&lt;/code>ï¼š1 è¡¨ç¤ºannounceè¯·æ±‚&lt;/li>
&lt;li>&lt;code>transaction_id&lt;/code>ï¼šä¸å®¢æˆ·ç«¯è¯·æ±‚å€¼ä¸€è‡´&lt;/li>
&lt;li>&lt;code>interval&lt;/code>ï¼šä¸‹ä¸€æ¬¡å®¢æˆ·ç«¯announceçš„æ—¶é—´é—´éš”&lt;/li>
&lt;li>&lt;code>leechers&lt;/code>ï¼šæœªå®Œæˆä¸‹è½½çš„peersæ•°é‡&lt;/li>
&lt;li>&lt;code>seeders&lt;/code>ï¼šå·²ç»å®Œæˆä¸‹è½½ä¸”æ„¿æ„ç»§ç»­ä¸Šä¼ çš„peersæ•°é‡&lt;/li>
&lt;/ul>
&lt;p>åŒ…çš„æœ€åæ˜¯6å­—èŠ‚ä¸€ç»„çš„peersä¿¡æ¯ï¼ˆIP + Portï¼‰ã€‚&lt;/p>
&lt;h2 id="ä¸‹è½½">ä¸‹è½½&lt;/h2>
&lt;h3 id="tcpè¿æ¥ä¸bittorrentæ¡æ‰‹">TCPè¿æ¥ä¸BitTorrentæ¡æ‰‹&lt;/h3>
&lt;h3 id="ä¸peersäº¤æ¢ä¿¡æ¯">ä¸peersäº¤æ¢ä¿¡æ¯&lt;/h3>
&lt;h3 id="å¹¶å‘æ§åˆ¶">å¹¶å‘æ§åˆ¶&lt;/h3>
&lt;h1 id="å‚è€ƒ">å‚è€ƒ&lt;/h1>
&lt;ul>
&lt;li>&lt;a href="https://www.bittorrent.org/beps/bep_0003.html">BEP-3: The BitTorrent Protocol Specification&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://wiki.theory.org/BitTorrentSpecification">Bittorrent Protocol Specification v1.0&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/archeryue/go-torrent">A toy torrent client written in golang&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://blog.jse.li/posts/torrent">Building a BitTorrent client from the ground up in Go&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://bittorrent.org/beps/bep_0015.html">BEP-15: UDP Tracker Protocol for BitTorrent&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://lifehacker.com/bittorrent-s-future-dht-pex-and-magnet-links-explain-5411311">BitTorrentâ€™s Future: DHT, PEX, and Magnet Links Explained&lt;/a>&lt;/li>
&lt;/ul></description><category domain="https://berylyvos.icu/categories/%E7%8E%A9/">ç©</category><category domain="https://berylyvos.icu/tags/golang/">Golang</category><category domain="https://berylyvos.icu/tags/bittorrent/">BitTorrent</category></item><item><title>void kernel</title><link>https://berylyvos.icu/posts/hello-world/</link><guid isPermaLink="true">https://berylyvos.icu/posts/hello-world/</guid><pubDate>Fri, 11 Nov 2022 01:38:56 +0800</pubDate><author>berylyvos@gmail.com (Shingo)</author><copyright>[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h1 id="hello">Hello&lt;/h1>
&lt;hr>
&lt;p>Okay,&lt;br>
this is Crazy.&lt;/p>
&lt;h2 id="void-kernel">void kernel&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-brainfuck" data-lang="brainfuck">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">++++++++++&lt;/span>&lt;span class="k">[&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nb">+++++++&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nb">+++++++++++&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nb">+++&lt;/span>&lt;span class="nv">&amp;lt;&amp;lt;&amp;lt;&lt;/span>&lt;span class="nb">-&lt;/span>&lt;span class="k">]&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nb">++++++++&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nb">+&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nb">++&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nv">&amp;lt;&amp;lt;&lt;/span>&lt;span class="nb">-------&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nb">------&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nb">+++++&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">++++&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nb">------&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nv">&amp;lt;&amp;lt;&lt;/span>&lt;span class="nb">-&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nb">+++++++++&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nb">-----------&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">-------&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nb">++++++++&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nv">&amp;lt;&amp;lt;&lt;/span>&lt;span class="nb">+++++++&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nb">------&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="nv">&amp;gt;&lt;/span>&lt;span class="nb">+&lt;/span>&lt;span class="nt">.&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="good">Good&lt;/h2>
&lt;h3 id="-2147483648">-2147483648&lt;/h3>
&lt;h4 id="acwing-291-è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³httpswwwacwingcomactivitycontentproblemcontent1010">&lt;a href="https://www.acwing.com/activity/content/problem/content/1010/">AcWing 291. è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³&lt;/a>&lt;/h4>
&lt;p>æ±‚æŠŠ $NÃ—M$ çš„æ£‹ç›˜åˆ†å‰²æˆè‹¥å¹²ä¸ª $1Ã—2$ çš„é•¿æ–¹å½¢ï¼Œæœ‰å¤šå°‘ç§æ–¹æ¡ˆã€‚&lt;/p>
&lt;p>ä¾‹å¦‚å½“ $N=2ï¼ŒM=4$ æ—¶ï¼Œå…±æœ‰ $5$ ç§æ–¹æ¡ˆã€‚å½“ $N=2ï¼ŒM=3$ æ—¶ï¼Œå…±æœ‰ $3$ ç§æ–¹æ¡ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://berylyvos.icu/img/mondriaan.jpeg" alt="mondriaan">&lt;/p>
&lt;p>æ•°æ®èŒƒå›´ï¼š $1â‰¤N,Mâ‰¤11$&lt;/p>
&lt;p>è¾“å…¥æ ·ä¾‹ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>1 2
1 3
1 4
2 2
2 3
2 4
2 11
4 11
0 0
&lt;/code>&lt;/pre>&lt;p>è¾“å‡ºæ ·ä¾‹ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>1
0
1
2
3
5
144
51205
&lt;/code>&lt;/pre>&lt;p>ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">N&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">M&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">N&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">long&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">M&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// f[i][j] å‰i-1åˆ—éƒ½æ‘†å¥½ï¼Œä¸”ä»ç¬¬i-1åˆ—ä¼¸å‡ºåˆ°ç¬¬iåˆ—çš„çŠ¶æ€æ˜¯jçš„æ‰€æœ‰æ–¹æ¡ˆæ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">bool&lt;/span> &lt;span class="n">st&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">M&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// æ¯ç§çŠ¶æ€æ˜¯å¦æœ‰è¿ç»­å¥‡æ•°ä¸ªé›¶ï¼Œæœ‰åˆ™çŠ¶æ€æ— æ•ˆä¸ºfalse
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">M&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// state[i][j] çŠ¶æ€içš„å‰ä¸€åˆ—çš„åˆæ³•çŠ¶æ€j
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é¢„å¤„ç†1ï¼šst[]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// æšä¸¾æ¯ç§çŠ¶æ€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">cnt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="n">isValid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// çŠ¶æ€ i çš„ç¬¬ j+1 ä½ä¸º1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">cnt&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// cntä¸ºå¥‡æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">isValid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">++&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">cnt&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">isValid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">st&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">isValid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é¢„å¤„ç†2ï¼šç›¸é‚»ä¸¤åˆ—çš„åˆæ³•çŠ¶æ€ state[][]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">state&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">clear&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">st&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// i &amp;amp; j == 0 è¡¨ç¤º ç›¸é‚»ä¸¤åˆ—æ²¡æœ‰é‡åˆéƒ¨åˆ†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// st[i | j] è¡¨ç¤º ä¸¤åˆ—åˆå¹¶åæ²¡æœ‰è¿ç»­å¥‡æ•°ä¸ªé›¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// dp
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nl">k&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="bye">Bye&lt;/h2>
&lt;p>&lt;img src="https://berylyvos.icu/img/yojouhan_cover.png" alt="yojouhan">&lt;/p></description><category domain="https://berylyvos.icu/categories/void/">void</category><category domain="https://berylyvos.icu/tags/c-/">C++</category><category domain="https://berylyvos.icu/tags/brainfuck/">Brainfuck</category><category domain="https://berylyvos.icu/tags/%E7%AE%97%E6%B3%95/">ç®—æ³•</category><category domain="https://berylyvos.icu/tags/voidkernel/">voidkernel</category></item></channel></rss>